// Buscar la funciÃ³n login en auth-service.ts y aplicar esta correcciÃ³n:

// DESPUÃ‰S DE RECIBIR LA RESPUESTA DEL BACKEND:
console.log('ğŸ” DEBUG: Respuesta completa del login:', response);
console.log('ğŸ” DEBUG: response.data:', response.data);

// EXTRAER USER Y TOKEN (probar ambas estructuras):
let user, token;
if (response.data.data) {
  // Estructura: response.data.data.{user, token}
  user = response.data.data.user;
  token = response.data.data.token;
  console.log('ğŸ” DEBUG: Usando estructura response.data.data');
} else {
  // Estructura: response.data.{user, token}
  user = response.data.user;
  token = response.data.token;
  console.log('ğŸ” DEBUG: Usando estructura response.data');
}

console.log('ğŸ” DEBUG: Token extraÃ­do:', token ? 'EXISTE' : 'NO EXISTE');
console.log('ğŸ” DEBUG: Usuario extraÃ­do:', user ? user.email : 'NO EXISTE');

// GUARDAR TOKEN CON VERIFICACIÃ“N:
if (token) {
  localStorage.setItem('auth_token', token);
  console.log('âœ… Token guardado en localStorage');
ECHO estÃ¡ desactivado.
  // VERIFICACIÃ“N INMEDIATA:
  const savedToken = localStorage.getItem('auth_token');
  console.log('ğŸ” VerificaciÃ³n: Token en localStorage:', savedToken ? 'EXISTE' : 'NO EXISTE');
} else {
  console.error('âŒ Token no encontrado en respuesta del servidor');
  return { success: false, error: 'Token no recibido del servidor' };
}

// GUARDAR USUARIO:
if (user) {
  localStorage.setItem('user_data', JSON.stringify(user));
  console.log('âœ… Usuario guardado en localStorage');
} else {
  console.error('âŒ Usuario no encontrado en respuesta del servidor');
}
